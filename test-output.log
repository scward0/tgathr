
> tgathr@0.1.0 test
> jest --watchAll=false

PASS src/app/api/events/[id]/finalize/__tests__/route.test.ts
  ‚óè Console

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00.000Z',
        finalEndDate: '2024-01-18T17:00:00.000Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 2/2 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 2/2 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 2/3 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.error
      Failed to send email to participant 1: Error: Email service error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:136:32)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      63 |     emailResults.forEach((result, index) => {
      64 |       if (result.status === 'rejected') {
    > 65 |         console.error(`Failed to send email to participant ${index}:`, result.reason);
         |                 ^
      66 |       }
      67 |     });
      68 |

      at error (src/app/api/events/[id]/finalize/route.ts:65:17)
          at Array.forEach (<anonymous>)
      at forEach (src/app/api/events/[id]/finalize/route.ts:63:18)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:144:24)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00.000Z',
        finalEndDate: '2024-01-18T17:00:00.000Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 1/1 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 0/0 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.error
      Error finalizing event: Error: Record to update not found
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:237:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      79 |
      80 |   } catch (error) {
    > 81 |     console.error('Error finalizing event:', error);
         |             ^
      82 |     return NextResponse.json(
      83 |       { error: 'Failed to finalize event' },
      84 |       { status: 500 }

      at error (src/app/api/events/[id]/finalize/route.ts:81:13)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:245:24)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.error
      Error finalizing event: Error: Database connection error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:254:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      79 |
      80 |   } catch (error) {
    > 81 |     console.error('Error finalizing event:', error);
         |             ^
      82 |     return NextResponse.json(
      83 |       { error: 'Failed to finalize event' },
      84 |       { status: 500 }

      at error (src/app/api/events/[id]/finalize/route.ts:81:13)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:262:24)

    console.log
      Finalize request received: { finalStartDate: 'invalid-date', finalEndDate: 'invalid-date' }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.error
      Error finalizing event: Error: Invalid date
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:271:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      79 |
      80 |   } catch (error) {
    > 81 |     console.error('Error finalizing event:', error);
         |             ^
      82 |     return NextResponse.json(
      83 |       { error: 'Failed to finalize event' },
      84 |       { status: 500 }

      at error (src/app/api/events/[id]/finalize/route.ts:81:13)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:279:24)

    console.log
      Finalize request received: {}

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.error
      Error finalizing event: Error: Missing required fields
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:288:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      79 |
      80 |   } catch (error) {
    > 81 |     console.error('Error finalizing event:', error);
         |             ^
      82 |     return NextResponse.json(
      83 |       { error: 'Failed to finalize event' },
      84 |       { status: 500 }

      at error (src/app/api/events/[id]/finalize/route.ts:81:13)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:293:24)

    console.error
      Error finalizing event: Error: Invalid JSON
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:302:43)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      79 |
      80 |   } catch (error) {
    > 81 |     console.error('Error finalizing event:', error);
         |             ^
      82 |     return NextResponse.json(
      83 |       { error: 'Failed to finalize event' },
      84 |       { status: 500 }

      at error (src/app/api/events/[id]/finalize/route.ts:81:13)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:305:24)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-19T09:00:00Z',
        finalEndDate: '2024-01-19T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 0/0 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-02-10T00:00:00.000Z',
        finalEndDate: '2024-02-13T23:59:59.000Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Workshop

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 1/1 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 1/1 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 100/100 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 1/1 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.log
      üìß Event finalized: Team Meeting

      at log (src/app/api/events/[id]/finalize/route.ts:35:13)

    console.log
      üìß Sent 1/1 confirmation emails

      at log (src/app/api/events/[id]/finalize/route.ts:60:13)

    console.log
      Finalize request received: {
        finalStartDate: '2024-01-18T09:00:00Z',
        finalEndDate: '2024-01-18T17:00:00Z'
      }

      at log (src/app/api/events/[id]/finalize/route.ts:20:13)

    console.error
      Error finalizing event: Error: Database error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/events/[id]/finalize/__tests__/route.test.ts:507:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      79 |
      80 |   } catch (error) {
    > 81 |     console.error('Error finalizing event:', error);
         |             ^
      82 |     return NextResponse.json(
      83 |       { error: 'Failed to finalize event' },
      84 |       { status: 500 }

      at error (src/app/api/events/[id]/finalize/route.ts:81:13)
      at Object.<anonymous> (src/app/api/events/[id]/finalize/__tests__/route.test.ts:515:24)

PASS src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts
  ‚óè Console

    console.error
      Failed to send SMS confirmation: Error: SMS service unavailable
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts:154:9)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)

      104 |       } catch (smsError) {
      105 |         // Log error but don't fail registration
    > 106 |         console.error('Failed to send SMS confirmation:', smsError);
          |                 ^
      107 |       }
      108 |     }
      109 |

      at error (src/app/api/public/events/[shareToken]/join/route.ts:106:17)
      at Object.<anonymous> (src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts:163:24)

    console.error
      Error in registration route: Error: Database connection error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts:331:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      115 |
      116 |   } catch (error) {
    > 117 |     console.error('Error in registration route:', error);
          |             ^
      118 |     return NextResponse.json(
      119 |       { error: 'Failed to register participant' },
      120 |       { status: 500 }

      at error (src/app/api/public/events/[shareToken]/join/route.ts:117:13)
      at Object.<anonymous> (src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts:339:24)

    console.error
      Error in registration route: Error: Invalid JSON
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts:348:43)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      115 |
      116 |   } catch (error) {
    > 117 |     console.error('Error in registration route:', error);
          |             ^
      118 |     return NextResponse.json(
      119 |       { error: 'Failed to register participant' },
      120 |       { status: 500 }

      at error (src/app/api/public/events/[shareToken]/join/route.ts:117:13)
      at Object.<anonymous> (src/app/api/public/events/[shareToken]/join/__tests__/route.test.ts:351:24)

PASS src/lib/__tests__/scheduling-algorithm.test.ts
PASS src/app/api/public/events/[shareToken]/details/__tests__/route.test.ts
  ‚óè Console

    console.error
      Error fetching event: Error: Database connection error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/public/events/[shareToken]/details/__tests__/route.test.ts:255:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      60 |
      61 |   } catch (error) {
    > 62 |     console.error('Error fetching event:', error);
         |             ^
      63 |     return NextResponse.json(
      64 |       { error: 'Failed to fetch event data' },
      65 |       { status: 500 }

      at error (src/app/api/public/events/[shareToken]/details/route.ts:62:13)
      at Object.<anonymous> (src/app/api/public/events/[shareToken]/details/__tests__/route.test.ts:259:24)

PASS src/lib/services/__tests__/event-service.test.ts
PASS src/components/__tests__/AvailabilityForm.test.tsx
PASS src/app/api/participants/[token]/__tests__/route.test.ts
  ‚óè Console

    console.error
      Error fetching participant/event: Error: Database connection error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/participants/[token]/__tests__/route.test.ts:163:11)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      74 |
      75 |   } catch (error) {
    > 76 |     console.error('Error fetching participant/event:', error);
         |             ^
      77 |     return NextResponse.json(
      78 |       { error: 'Failed to fetch participant data' },
      79 |       { status: 500 }

      at error (src/app/api/participants/[token]/route.ts:76:13)
      at Object.<anonymous> (src/app/api/participants/[token]/__tests__/route.test.ts:167:26)

    console.error
      Error updating participant: { code: 'P2025', message: 'Record to update not found' }

      154 |
      155 |   } catch (error: any) {
    > 156 |     console.error('Error updating participant:', error);
          |             ^
      157 |
      158 |     if (error?.code === 'P2025') {
      159 |       return NextResponse.json(

      at error (src/app/api/participants/[token]/route.ts:156:13)
      at Object.<anonymous> (src/app/api/participants/[token]/__tests__/route.test.ts:460:26)

    console.error
      Error updating participant: Error: Database connection error
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/participants/[token]/__tests__/route.test.ts:483:11)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      154 |
      155 |   } catch (error: any) {
    > 156 |     console.error('Error updating participant:', error);
          |             ^
      157 |
      158 |     if (error?.code === 'P2025') {
      159 |       return NextResponse.json(

      at error (src/app/api/participants/[token]/route.ts:156:13)
      at Object.<anonymous> (src/app/api/participants/[token]/__tests__/route.test.ts:490:26)

    console.error
      Error updating participant: Error: Invalid JSON
          at Object.<anonymous> (/Users/seanward/tgathr/src/app/api/participants/[token]/__tests__/route.test.ts:499:45)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      154 |
      155 |   } catch (error: any) {
    > 156 |     console.error('Error updating participant:', error);
          |             ^
      157 |
      158 |     if (error?.code === 'P2025') {
      159 |       return NextResponse.json(

      at error (src/app/api/participants/[token]/route.ts:156:13)
      at Object.<anonymous> (src/app/api/participants/[token]/__tests__/route.test.ts:502:26)

    console.error
      Error updating participant: { code: 'P2025' }

      154 |
      155 |   } catch (error: any) {
    > 156 |     console.error('Error updating participant:', error);
          |             ^
      157 |
      158 |     if (error?.code === 'P2025') {
      159 |       return NextResponse.json(

      at error (src/app/api/participants/[token]/route.ts:156:13)
      at Object.<anonymous> (src/app/api/participants/[token]/__tests__/route.test.ts:598:26)

PASS src/app/api/__tests__/availability.test.ts
PASS src/app/api/__tests__/events.test.ts
PASS src/types/__tests__/event.test.ts
PASS src/lib/services/__tests__/availability-service.test.ts
  ‚óè Console

    console.log
      ‚úÖ John Doe submitted 2 time slots for event event-123

      at log (src/lib/services/availability-service.ts:62:13)

    console.log
      ‚úÖ Jane Smith submitted 1 time slots for event event-123

      at log (src/lib/services/availability-service.ts:62:13)

    console.log
      ‚úÖ John Doe submitted 1 time slots for event event-123

      at log (src/lib/services/availability-service.ts:62:13)

PASS src/app/api/events/cleanup/preview/__tests__/route.test.ts
PASS src/app/api/events/cleanup/__tests__/route.test.ts
PASS src/lib/services/__tests__/cleanup-service.test.ts
  ‚óè Console

    console.log
      ‚úÖ Sent expiration notification for event event-1: Soon to Expire Event

      at log (src/lib/services/cleanup-service.ts:111:17)

    console.error
      ‚ùå Failed to send expiration notification for event event-1: Event 1 Email service unavailable

      119 |         });
      120 |
    > 121 |         console.error(`‚ùå Failed to send expiration notification for event ${event.id}: ${event.name}`, result.error);
          |                 ^
      122 |       }
      123 |     } catch (error) {
      124 |       failureCount++;

      at error (src/lib/services/cleanup-service.ts:121:17)
      at Object.<anonymous> (src/lib/services/__tests__/cleanup-service.test.ts:204:22)

    console.error
      ‚ùå Error processing expiration notification for event event-1: Error: Database error
          at Object.<anonymous> (/Users/seanward/tgathr/src/lib/services/__tests__/cleanup-service.test.ts:233:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      130 |       });
      131 |
    > 132 |       console.error(`‚ùå Error processing expiration notification for event ${event.id}:`, error);
          |               ^
      133 |     }
      134 |   }
      135 |

      at error (src/lib/services/cleanup-service.ts:132:15)
      at Object.<anonymous> (src/lib/services/__tests__/cleanup-service.test.ts:236:22)

    console.log
      ‚úÖ Sent expiration notification for event event-1: Event with Responses

      at log (src/lib/services/cleanup-service.ts:111:17)

    console.log
      üóëÔ∏è  Deleted expired event event-1: Expired Event 1

      at log (src/lib/services/cleanup-service.ts:176:15)

    console.log
      üóëÔ∏è  Deleted expired event event-2: Expired Event 2

      at log (src/lib/services/cleanup-service.ts:176:15)

    console.log
      üóëÔ∏è  Deleted expired event event-1: Event 1

      at log (src/lib/services/cleanup-service.ts:176:15)

    console.error
      ‚ùå Failed to delete event event-2: Error: Database error
          at Object.<anonymous> (/Users/seanward/tgathr/src/lib/services/__tests__/cleanup-service.test.ts:376:32)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      177 |     } catch (error) {
      178 |       errors.push({ eventId: event.id, error });
    > 179 |       console.error(`‚ùå Failed to delete event ${event.id}:`, error);
          |               ^
      180 |     }
      181 |   }
      182 |

      at error (src/lib/services/cleanup-service.ts:179:15)
      at Object.<anonymous> (src/lib/services/__tests__/cleanup-service.test.ts:378:22)

    console.log
      üßπ Starting event cleanup process...

      at log (src/lib/services/cleanup-service.ts:196:11)

    console.log
      üìß Sending expiration notifications...

      at log (src/lib/services/cleanup-service.ts:200:13)

    console.log
      ‚úÖ Sent expiration notification for event event-1: Event 1

      at log (src/lib/services/cleanup-service.ts:111:17)

    console.log
      üìä Notifications: 1 sent, 0 failed

      at log (src/lib/services/cleanup-service.ts:202:13)

    console.log
      üóëÔ∏è  Deleting expired events...

      at log (src/lib/services/cleanup-service.ts:205:13)

    console.log
      üóëÔ∏è  Deleted expired event event-old: Old Event

      at log (src/lib/services/cleanup-service.ts:176:15)

    console.log
      üìä Deleted 1 expired events

      at log (src/lib/services/cleanup-service.ts:207:13)

    console.log
      ‚úÖ Cleanup process completed successfully

      at log (src/lib/services/cleanup-service.ts:217:13)

    console.log
      üßπ Starting event cleanup process...

      at log (src/lib/services/cleanup-service.ts:196:11)

    console.log
      üìß Sending expiration notifications...

      at log (src/lib/services/cleanup-service.ts:200:13)

    console.error
      ‚ùå Cleanup process failed: Error: Database connection failed
          at Object.<anonymous> (/Users/seanward/tgathr/src/lib/services/__tests__/cleanup-service.test.ts:457:9)
          at Promise.finally.completed (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/seanward/tgathr/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/seanward/tgathr/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/seanward/tgathr/node_modules/jest-runner/build/testWorker.js:497:12)

      218 |     return result;
      219 |   } catch (error) {
    > 220 |     console.error('‚ùå Cleanup process failed:', error);
          |             ^
      221 |     return {
      222 |       success: false,
      223 |       timestamp: new Date(),

      at error (src/lib/services/cleanup-service.ts:220:13)
      at Object.<anonymous> (src/lib/services/__tests__/cleanup-service.test.ts:460:22)

    console.log
      üßπ Starting event cleanup process...

      at log (src/lib/services/cleanup-service.ts:196:11)

    console.log
      üìß Sending expiration notifications...

      at log (src/lib/services/cleanup-service.ts:200:13)

    console.error
      ‚ùå Failed to send expiration notification for event event-1: Event 1 Email service down

      119 |         });
      120 |
    > 121 |         console.error(`‚ùå Failed to send expiration notification for event ${event.id}: ${event.name}`, result.error);
          |                 ^
      122 |       }
      123 |     } catch (error) {
      124 |       failureCount++;

      at error (src/lib/services/cleanup-service.ts:121:17)
      at runCleanup (src/lib/services/cleanup-service.ts:201:33)
      at Object.<anonymous> (src/lib/services/__tests__/cleanup-service.test.ts:500:22)

    console.log
      üìä Notifications: 0 sent, 1 failed

      at log (src/lib/services/cleanup-service.ts:202:13)

    console.log
      üóëÔ∏è  Deleting expired events...

      at log (src/lib/services/cleanup-service.ts:205:13)

    console.log
      üóëÔ∏è  Deleted expired event event-old: Old Event

      at log (src/lib/services/cleanup-service.ts:176:15)

    console.log
      üìä Deleted 1 expired events

      at log (src/lib/services/cleanup-service.ts:207:13)

    console.log
      ‚úÖ Cleanup process completed successfully

      at log (src/lib/services/cleanup-service.ts:217:13)

PASS src/app/__tests__/page.test.tsx
PASS src/components/__tests__/EventForm.test.tsx
  ‚óè Console

    console.error
      Error creating event: Error: Validation error
          at onSubmit (/Users/seanward/tgathr/src/components/EventForm.tsx:46:15)
          at unset (/Users/seanward/tgathr/node_modules/react-hook-form/src/logic/createFormControl.ts:1247:7)

      54 |
      55 |     } catch (error) {
    > 56 |       console.error('Error creating event:', error);
         |               ^
      57 |       setError(error instanceof Error ? error.message : 'An unexpected error occurred');
      58 |     } finally {
      59 |       setIsSubmitting(false);

      at error (src/components/EventForm.tsx:56:15)
      at unset (node_modules/react-hook-form/src/logic/createFormControl.ts:1247:7)

FAIL src/components/__tests__/AvailabilityVisualization.test.tsx (5.213 s)
  ‚óè AvailabilityVisualization ‚Ä∫ Cell interaction ‚Ä∫ should show participant breakdown when cell is clicked

    Found multiple elements with the text: /Available/

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"text-xs font-semibold text-green-400 mb-1"[39m
    [36m>[39m
      [0m‚úì Available ([0m
      [0m2[0m
      [0m):[0m
    [36m</div>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"text-xs font-semibold text-red-400 mb-1"[39m
    [36m>[39m
      [0m‚úó Not Available ([0m
      [0m1[0m
      [0m):[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-gray-800 rounded-lg p-4 md:p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0 mb-4 md:mb-6"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg md:text-xl font-semibold text-white"[39m
            [36m>[39m
              [0mAvailability Heatmap[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 md:gap-4 text-xs md:text-sm flex-wrap"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-500 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m75%+[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-600/80 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m50-75%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-700/60 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m25-50%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-900/40 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m&lt;25%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-gray-800 border border-gray-700 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0mNone[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"overflow-x-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-block min-w-full"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full border-collapse"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-left text-xs md:text-sm font-semibold text-gray-300 sticky left-0 z-10"[39m
                    [36m>[39m
                      [0mDate[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mMorning[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mAfternoon[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mEvening[0m
                    [36m</th>[39m
                  [36m</tr>[39m
                [36m</thead>[39m
                [36m<tbody>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mMon[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 15[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-blue-600/80 "[39m
                      [33mtitle[39m=[32m"2/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-white font-semibold"[39m
                      [36m>[39m
                        [0m2[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m67[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-blue-700/60 "[39m
                      [33mtitle[39m=[32m"1/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m1[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m33[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mTue[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 16[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mWed[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 17[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/3 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                [36m</tbody>[39m
              [36m</table>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-4 md:mt-6 p-3 md:p-4 bg-gray-700 rounded-lg border border-gray-600"[39m
          [36m>[39m
            [36m<h3[39m
              [33mclass[39m=[32m"text-xs md:text-sm font-semibold text-white mb-2 md:mb-3"[39m
            [36m>[39m
              [0mMonday, January 15, 2024[0m
              [0m - [0m
              [0mMorning[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-2"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs font-semibold text-green-400 mb-1"[39m
                [36m>[39m
                  [0m‚úì Available ([0m
                  [0m2[0m
                  [0m):[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-wrap gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"px-2 py-1 bg-green-900/30 text-green-300 text-xs rounded"[39m
                  [36m>[39m
                    [0mAlice Brown[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"px-2 py-1 bg-green-900/30 text-green-300 text-xs rounded"[39m
                  [36m>[39m
                    [0mCharlie Davis[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs font-semibold text-red-400 mb-1"[39m
                [36m>[39m
                  [0m‚úó Not Available ([0m
                  [0m1[0m
                  [0m):[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex flex-wrap gap-2"[39m
                [36m>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"px-2 py-1 bg-red-900/30 text-red-300 text-xs rounded"[39m
                  [36m>[39m
                    [0mBob Wilson[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-3 md:mt-4 text-xs text-gray-400 text-center"[39m
          [36m>[39m
            [0mClick on any cell to see who is available[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      199 |
      200 |         // Should show breakdown modal
    > 201 |         await waitFor(() => {
          |                      ^
      202 |           expect(screen.getByText(/Available/)).toBeInTheDocument();
      203 |         });
      204 |       }

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (src/components/__tests__/AvailabilityVisualization.test.tsx:201:22)

  ‚óè AvailabilityVisualization ‚Ä∫ Cell interaction ‚Ä∫ should close breakdown when cell is clicked again

    expect(element).not.toBeInTheDocument()

    expected document not to contain element, found <span class="px-2 py-1 bg-green-900/30 text-green-300 text-xs rounded">Alice Brown</span> instead

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"bg-gray-800 rounded-lg p-4 md:p-6"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0 mb-4 md:mb-6"[39m
            [36m>[39m
              [36m<h2[39m
                [33mclass[39m=[32m"text-lg md:text-xl font-semibold text-white"[39m
              [36m>[39m
                [0mAvailability Heatmap[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 md:gap-4 text-xs md:text-sm flex-wrap"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-500 rounded"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-300"[39m
                  [36m>[39m
                    [0m75%+[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-600/80 rounded"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-300"[39m
                  [36m>[39m
                    [0m50-75%[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-700/60 rounded"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-300"[39m
                  [36m>[39m
                    [0m25-50%[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-900/40 rounded"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-300"[39m
                  [36m>[39m
                    [0m&lt;25%[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-gray-800 border border-gray-700 rounded"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-gray-300"[39m
                  [36m>[39m
                    [0mNone[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"overflow-x-auto"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"inline-block min-w-full"[39m
              [36m>[39m
                [36m<table[39m
                  [33mclass[39m=[32m"w-full border-collapse"[39m
                [36m>[39m
                  [36m<thead>[39m
                    [36m<tr>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-left text-xs md:text-sm font-semibold text-gray-300 sticky left-0 z-10"[39m
                      [36m>[39m
                        [0mDate[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                      [36m>[39m
                        [0mMorning[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                      [36m>[39m
                        [0mAfternoon[0m
                      [36m</th>[39m
                      [36m<th[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                      [36m>[39m
                        [0mEvening[0m
                      [36m</th>[39m
                    [36m</tr>[39m
                  [36m</thead>[39m
                  [36m<tbody>[39m
                    [36m<tr[39m
                      [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                    [36m>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [0mMon[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                        [36m>[39m
                          [0mJan 15[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-blue-600/80 "[39m
                        [33mtitle[39m=[32m"2/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-white font-semibold"[39m
                        [36m>[39m
                          [0m2[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m67[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-blue-700/60 "[39m
                        [33mtitle[39m=[32m"1/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m1[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m33[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                    [36m<tr[39m
                      [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                    [36m>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [0mTue[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                        [36m>[39m
                          [0mJan 16[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                    [36m<tr[39m
                      [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                    [36m>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                      [36m>[39m
                        [36m<div>[39m
                          [0mWed[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                        [36m>[39m
                          [0mJan 17[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                      [36m<td[39m
                        [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                        [33mtitle[39m=[32m"0/3 available"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                        [36m>[39m
                          [0m0[0m
                        [36m</div>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"text-xs text-gray-400"[39m
                        [36m>[39m
                          [0m0[0m
                          [0m%[0m
                        [36m</div>[39m
                      [36m</td>[39m
                    [36m</tr>[39m
                  [36m</tbody>[39m
                [36m</table>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-4 md:mt-6 p-3 md:p-4 bg-gray-700 rounded-lg border border-gray-600"[39m
            [36m>[39m
              [36m<h3[39m
                [33mclass[39m=[32m"text-xs md:text-sm font-semibold text-white mb-2 md:mb-3"[39m
              [36m>[39m
                [0mMonday, January 15, 2024[0m
                [0m - [0m
                [0mMorning[0m
              [36m</h3>[39m
              [36m<div[39m
                [33mclass[39m=[32m"space-y-2"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs font-semibold text-green-400 mb-1"[39m
                  [36m>[39m
                    [0m‚úì Available ([0m
                    [0m2[0m
                    [0m):[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-wrap gap-2"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-1 bg-green-900/30 text-green-300 text-xs rounded"[39m
                    [36m>[39m
                      [0mAlice Brown[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-1 bg-green-900/30 text-green-300 text-xs rounded"[39m
                    [36m>[39m
                      [0mCharlie Davis[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs font-semibold text-red-400 mb-1"[39m
                  [36m>[39m
                    [0m‚úó Not Available ([0m
                    [0m1[0m
                    [0m):[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex flex-wrap gap-2"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"px-2 py-1 bg-red-900/30 text-red-300 text-xs rounded"[39m
                    [36m>[39m
                      [0mBob Wilson[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"mt-3 md:mt-4 text-xs text-gray-400 text-center"[39m
            [36m>[39m
              [0mClick on any cell to see who is available[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      264 |         await user.click(cellWithData);
      265 |         await waitFor(() => {
    > 266 |           expect(screen.queryByText('Alice Brown')).not.toBeInTheDocument();
          |                                                         ^
      267 |         });
      268 |       }
      269 |     });

      at toBeInTheDocument (src/components/__tests__/AvailabilityVisualization.test.tsx:266:57)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè AvailabilityVisualization ‚Ä∫ Edge cases ‚Ä∫ should handle participants with overlapping time slots

    TestingLibraryElementError: Unable to find an element with the text: 100%. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-gray-800 rounded-lg p-4 md:p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0 mb-4 md:mb-6"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg md:text-xl font-semibold text-white"[39m
            [36m>[39m
              [0mAvailability Heatmap[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 md:gap-4 text-xs md:text-sm flex-wrap"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-500 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m75%+[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-600/80 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m50-75%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-700/60 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m25-50%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-900/40 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m&lt;25%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-gray-800 border border-gray-700 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0mNone[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"overflow-x-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-block min-w-full"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full border-collapse"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-left text-xs md:text-sm font-semibold text-gray-300 sticky left-0 z-10"[39m
                    [36m>[39m
                      [0mDate[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mMorning[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mAfternoon[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mEvening[0m
                    [36m</th>[39m
                  [36m</tr>[39m
                [36m</thead>[39m
                [36m<tbody>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mMon[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 15[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mTue[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 16[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mWed[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 17[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                [36m</tbody>[39m
              [36m</table>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-3 md:mt-4 text-xs text-gray-400 text-center"[39m
          [36m>[39m
            [0mClick on any cell to see who is available[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      351 |
      352 |       // Should only count Alice once per cell
    > 353 |       expect(screen.getByText('100%')).toBeInTheDocument();
          |                     ^
      354 |     });
      355 |
      356 |     it('should handle Date objects as time slot values', () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/__tests__/AvailabilityVisualization.test.tsx:353:21)

  ‚óè AvailabilityVisualization ‚Ä∫ Edge cases ‚Ä∫ should handle Date objects as time slot values

    TestingLibraryElementError: Unable to find an element with the text: 100%. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-gray-800 rounded-lg p-4 md:p-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-0 mb-4 md:mb-6"[39m
          [36m>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-lg md:text-xl font-semibold text-white"[39m
            [36m>[39m
              [0mAvailability Heatmap[0m
            [36m</h2>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 md:gap-4 text-xs md:text-sm flex-wrap"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-500 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m75%+[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-600/80 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m50-75%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-700/60 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m25-50%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-blue-900/40 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0m&lt;25%[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-1 md:gap-2"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-3 h-3 md:w-4 md:h-4 bg-gray-800 border border-gray-700 rounded"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-gray-300"[39m
                [36m>[39m
                  [0mNone[0m
                [36m</span>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"overflow-x-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"inline-block min-w-full"[39m
            [36m>[39m
              [36m<table[39m
                [33mclass[39m=[32m"w-full border-collapse"[39m
              [36m>[39m
                [36m<thead>[39m
                  [36m<tr>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-left text-xs md:text-sm font-semibold text-gray-300 sticky left-0 z-10"[39m
                    [36m>[39m
                      [0mDate[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mMorning[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mAfternoon[0m
                    [36m</th>[39m
                    [36m<th[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-center text-xs md:text-sm font-semibold text-gray-300 min-w-[80px] md:min-w-[120px]"[39m
                    [36m>[39m
                      [0mEvening[0m
                    [36m</th>[39m
                  [36m</tr>[39m
                [36m</thead>[39m
                [36m<tbody>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mMon[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 15[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mTue[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 16[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                  [36m<tr[39m
                    [33mclass[39m=[32m"hover:bg-gray-700/20 transition-colors"[39m
                  [36m>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 bg-gray-900 p-2 md:p-3 text-xs md:text-sm text-white font-medium sticky left-0 z-10"[39m
                    [36m>[39m
                      [36m<div>[39m
                        [0mWed[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-gray-400 text-xs"[39m
                      [36m>[39m
                        [0mJan 17[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                    [36m<td[39m
                      [33mclass[39m=[32m"border border-gray-700 p-2 md:p-3 text-center cursor-pointer transition-all bg-gray-800 "[39m
                      [33mtitle[39m=[32m"0/1 available"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-base md:text-lg font-bold text-gray-300"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"text-xs text-gray-400"[39m
                      [36m>[39m
                        [0m0[0m
                        [0m%[0m
                      [36m</div>[39m
                    [36m</td>[39m
                  [36m</tr>[39m
                [36m</tbody>[39m
              [36m</table>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mt-3 md:mt-4 text-xs text-gray-400 text-center"[39m
          [36m>[39m
            [0mClick on any cell to see who is available[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      371 |       render(<AvailabilityVisualization event={mockEvent} participants={participantsWithDates} />);
      372 |
    > 373 |       expect(screen.getByText('100%')).toBeInTheDocument();
          |                     ^
      374 |     });
      375 |
      376 |     it('should handle Date objects for event dates', () => {

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (src/components/__tests__/AvailabilityVisualization.test.tsx:373:21)

